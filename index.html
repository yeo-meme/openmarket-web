<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="./styles/main.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="#" class="logo">KODU</a>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="ÏÉÅÌíàÏùÑ Í≤ÄÏÉâÌï¥Î≥¥ÏÑ∏Ïöî">
                <button class="search-btn">üîç</button>
            </div>
            <div class="header-actions">
                <button class="header-btn">üõí</button>
                <button class="header-btn">üë§</button>
            </div>
        </div>
    </header>

    <main class="main">
        <nav class="breadcrumb">
            <a href="#">Ìôà</a> > <a href="#">ÏÉÅÌíà</a> > Ï†ÑÏ≤¥ÏÉÅÌíà
        </nav>

        <div id="productGrid" class="product-grid">
            <!-- Products will be loaded here -->
        </div>

        <div class="nav-dots">
            <div class="nav-dot active"></div>
            <div class="nav-dot"></div>
            <div class="nav-dot"></div>
        </div>

        <div id="loading" class="loading" style="display: none;">
            Î°úÎî© Ï§ë...
        </div>
    </main>


    <script type="module" src="./js/main.js"></script>

    
    <script>
        // SPA Router
        class Router {
            constructor() {
                this.routes = {};
                this.currentRoute = null;
            }

            addRoute(path, handler) {
                this.routes[path] = handler;
            }

            navigate(path) {
                window.history.pushState({}, '', path);
                this.handleRoute(path);
            }

            handleRoute(path) {
                const handler = this.routes[path] || this.routes['*'];
                if (handler) {
                    this.currentRoute = path;
                    handler();
                }
            }

            init() {
                window.addEventListener('popstate', () => {
                    this.handleRoute(window.location.pathname);
                });
                this.handleRoute(window.location.pathname);
            }
        }

        // Product Data
        const products = [
            {
                id: 1,
                title: "Hack Your Life Í∞úÎ∞úÏûê ÎÖ∏Ìä∏Î∂Å ÌååÏö∞Ïπò",
                category: "ÎîîÏßÄÌÑ∏ Ïï°ÏÑ∏ÏÑúÎ¶¨",
                price: "29,000",
                image: "üíª"
            },
            {
                id: 2,
                title: "ÎÑ§ Í∞úÏßúÎ¶¨ ÎìúÎûòÍ≥§ ÌÇ§ÌôÄÎçî Í≥®Îìú ÌÇ§ÎßÅ",
                category: "ÌÇ§ÎßÅ/ÌÇ§ÌôÄÎçî",
                price: "29,000",
                image: "üêâ"
            },
            {
                id: 3,
                title: "ÌÜ†ÎÅº Ï∫êÎ¶≠ÌÑ∞ ÌõÑÎìú ÏßëÏóÖ",
                category: "ÏùòÎ•ò",
                price: "29,000",
                image: "üê∞"
            },
            {
                id: 4,
                title: "ÎπàÌã∞ÏßÄ Ïä§Ìã∞Ïª§ ÏΩúÎ†âÏÖò ÏãúÎ¶¨Ï¶à Ìå©",
                category: "Ïä§Ìã∞Ïª§",
                price: "29,000",
                image: "üé®"
            },
            {
                id: 5,
                title: "Í∞úÍµ¨Î¶¨ Ï∫êÎ¶≠ÌÑ∞ ÌÇ§ÎßÅ - Í∑ÄÏó¨Ïö¥ ÌÇ§ Ï≤¥Ïù∏",
                category: "ÌÇ§ÎßÅ/ÌÇ§ÌôÄÎçî",
                price: "29,000",
                image: "üê∏"
            },
            {
                id: 6,
                title: "ÌïúÏ†ïÌåê ÏΩúÎùºÎ≥¥ ÍµøÏ¶à ÏÑ∏Ìä∏",
                category: "ÍµøÏ¶à",
                price: "35,000",
                image: "üéÅ"
            }
        ];

        // App State
        const appState = {
            currentPage: 1,
            productsPerPage: 6,
            searchQuery: '',
            filteredProducts: [...products]
        };

        // DOM Elements
        const productGrid = document.getElementById('productGrid');
        const loading = document.getElementById('loading');
        const searchInput = document.querySelector('.search-input');

        // Render Products
        function renderProducts() {
            productGrid.innerHTML = '';
            
            appState.filteredProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image">
                        <span style="font-size: 4rem;">${product.image}</span>
                    </div>
                    <div class="product-info">
                        <div class="product-category">${product.category}</div>
                        <div class="product-title">${product.title}</div>
                        <div class="product-price">${product.price}Ïõê</div>
                    </div>
                `;
                
                productCard.addEventListener('click', () => {
                    showProductDetail(product);
                });
                
                productGrid.appendChild(productCard);
            });
        }

        // Search Functionality
        function handleSearch() {
            const query = searchInput.value.toLowerCase();
            appState.searchQuery = query;
            
            if (query === '') {
                appState.filteredProducts = [...products];
            } else {
                appState.filteredProducts = products.filter(product => 
                    product.title.toLowerCase().includes(query) ||
                    product.category.toLowerCase().includes(query)
                );
            }
            
            renderProducts();
        }

        // Product Detail Modal
        function showProductDetail(product) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            modal.innerHTML = `
                <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 500px; width: 90%;">
                    <div style="text-align: center; margin-bottom: 1rem;">
                        <span style="font-size: 6rem;">${product.image}</span>
                    </div>
                    <h2 style="margin-bottom: 0.5rem;">${product.title}</h2>
                    <p style="color: #666; margin-bottom: 1rem;">${product.category}</p>
                    <p style="font-size: 1.5rem; font-weight: bold; color: #00c851; margin-bottom: 2rem;">${product.price}Ïõê</p>
                    <div style="display: flex; gap: 1rem;">
                        <button style="flex: 1; padding: 1rem; background: #00c851; color: white; border: none; border-radius: 8px; cursor: pointer;">Ïû•Î∞îÍµ¨Îãà Îã¥Í∏∞</button>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" style="flex: 1; padding: 1rem; background: #f0f0f0; border: none; border-radius: 8px; cursor: pointer;">Îã´Í∏∞</button>
                    </div>
                </div>
            `;
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
            
            document.body.appendChild(modal);
        }

        // Loading Animation
        function showLoading() {
            loading.style.display = 'block';
            productGrid.style.opacity = '0.5';
        }

        function hideLoading() {
            loading.style.display = 'none';
            productGrid.style.opacity = '1';
        }

        // Initialize App
        function init() {
            renderProducts();
            
            // Search functionality
            searchInput.addEventListener('input', handleSearch);
            
            // Search button
            document.querySelector('.search-btn').addEventListener('click', handleSearch);
            
            // Logo click
            document.querySelector('.logo').addEventListener('click', (e) => {
                e.preventDefault();
                searchInput.value = '';
                appState.searchQuery = '';
                appState.filteredProducts = [...products];
                renderProducts();
            });
            
            // Simulate loading on page changes
            document.querySelectorAll('.nav-dot').forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    document.querySelectorAll('.nav-dot').forEach(d => d.classList.remove('active'));
                    dot.classList.add('active');
                    
                    showLoading();
                    setTimeout(() => {
                        hideLoading();
                        // Here you could load different product sets
                    }, 1000);
                });
            });
        }

        // Start the app
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>